<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>projet-scout</title>
    <link rel="stylesheet" href="/src/style.css">
  </head>
  <body>
    <canvas class="webgl"></canvas>
    
    <div id="dialogue-box"></div>

    <div id="dynamic-compass" style="
        display: none; /* Le JS le passera en block quand on aura l'objet */
        position: fixed; 
        top: 20px; 
        right: 20px; 
        width: 60px; 
        height: 60px; 
        background: url('./src/assets/boussole.png') no-repeat center center; 
        background-size: contain;
        z-index: 1500;
    "></div>

    <div id="interaction-prompt" style="display:none; position:fixed; bottom:20%; left:50%; transform:translateX(-50%); background:rgba(0,0,0,0.5); padding:10px; color:white; border-radius:5px;"></div>

    <div id="dialogue-screen" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.8); flex-direction:column; align-items:center; justify-content:center; z-index:1000;">
        <img id="npc-portrait" style="width:200px; height:200px; image-rendering:pixelated;" src="" alt="NPC Portrait">
        <div style="background:#222; color:white; padding:20px; border:2px solid white; width:400px; text-align:center;">
            <p id="dialogue-text"></p>
            <div id="dialogue-options"></div>
        </div>
    </div>

    <div id="debug-coords" style="
        position: fixed;
        top: 10px;
        left: 10px;
        color: #00ff00; 
        font-family: 'Courier New', Courier, monospace;
        font-weight: bold;
        font-size: 16px;
        background: rgba(0, 0, 0, 0.5);
        padding: 8px;
        border-radius: 4px;
        pointer-events: none; 
        z-index: 2000;
    ">
        POS: 0, 0
    </div>

    
    </div>
    <div id="main-quest-ui" style="
            position: absolute;
            top: 70px; /* <--- MODIFIÉ ICI (au lieu de 20px) pour éviter le debug */
            left: 20px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 15px;
            border-radius: 8px;
            font-family: monospace;
            font-size: 16px;
            border: 2px solid #ffd700;
            max-width: 250px;
            pointer-events: none;
        ">
        <strong style="color: #ffd700;">QUÊTE PRINCIPALE</strong><br>
        <span id="main-quest-text">Chargement...</span>
    </div>

    <div id="badge-popup" style="
        display: none; 
        position: fixed; 
        top: 30%; 
        left: 50%; 
        transform: translate(-50%, -50%); 
        background: rgba(0, 0, 0, 0.85); 
        border: 4px solid #ffd700; 
        border-radius: 15px; 
        padding: 20px; 
        flex-direction: column; 
        align-items: center; 
        text-align: center; 
        color: #ffd700; 
        font-family: 'Courier New', monospace; 
        z-index: 4000; 
        box-shadow: 0 0 30px rgba(255, 215, 0, 0.5);
        min-width: 300px;
    ">
        <h2 style="margin: 0 0 10px 0; font-size: 20px; text-transform: uppercase;">Badge Débloqué !</h2>
        <img id="badge-popup-img" src="" style="width: 80px; height: 80px; margin: 10px 0; border-radius: 50%; border: 2px solid white;">
        <p id="badge-popup-text" style="color: white; font-size: 16px; margin: 0;"></p>
    </div>

    <script type="module" src="/src/main.js"></script>
  </body>
</html>